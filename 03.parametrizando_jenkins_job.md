# Parametrizando Jenkins Jobs

---

## Agregando parámetros

Iniciaremos creando una nueva vista. Para eso damos clic en el ícono del más.

![01.png](assets/05-seccion/01.png)

Le asignamos un nombre, seleccionamos `Lista de vistas` y le damos en `Create`.

![01.png](assets/05-seccion/02.png)

Se nos abrirá una nueva pantalla donde le agregamos una pequeña descripción y le damos en `OK`.

![01.png](assets/05-seccion/03.png)

En el panel principal veremos la nueva vista creada. Notar que tenemos también la vista `Todo`, en esa vista estarán
todos los jobs creados, mientras que en la vista que acabamos de crear estará únicamente el job que creemos para dicha
vista.

![01.png](assets/05-seccion/04.png)

Ahora, estando en la vista que hemos creado, vamos a crear una nueva tarea.

![01.png](assets/05-seccion/05.png)

Le damos un nombre al nuevo job que estamos a punto de crear.

![01.png](assets/05-seccion/06.png)

Luego de haberle dado en ok, seremos redireccionados a la siguiente pantalla donde agregaremos ciertas configuraciones
para las ejecuciones antiguas.

![01.png](assets/05-seccion/07.png)

Luego, en el apartado de `Build Steps` seleccionamos la opción para ejecutar scripts mediante la línea de comando.

![01.png](assets/05-seccion/08.png)

Nos vamos a la opción para escribir comandos y utilizaremos el mismo script que usamos al final de la sección anterior.
Recordemos que en la sección anterior (`empecemos con jenkins`) agregamos un script hacia dentro del contenedor de
jenkins, en el directorio `opt`. El script que ingresamos en el contenedor se llamaba `jobscript.sh`.

Recordemos además, que el script `jobscript.sh` está utilizando variables, mismas que le pasaremos en esta oportunidad
utilizando el propio jenkins.

![01.png](assets/05-seccion/09.png)

Volvemos hacia arriba de este formulario y damos check a la opción `Esta ejecución debe parametrizarse`, luego
seleccionamos el añadir `parámetros de cadena`, dado que las variables que el script que estamos por ejecutar está
esperando valores de tipo `String`. Recordemos que las variables son `nombre` y `curso`.

![01.png](assets/05-seccion/10.png)

Definimos el nombre de la variable `nombre` y su correspondiente valor.

![01.png](assets/05-seccion/11.png)

Lo mismo hacemos para la siguiente variable `curso`.

![01.png](assets/05-seccion/12.png)

Luego de haber dado en `Guardar`, nos aparecerá esta ventana. Le damos clic en la opción `Build with Parameters` y
en automático nos aparecerá el formulario de la derecha donde podemos cambiar los valores de las variables que hemos
definido anteriormente. En nuestro caso ejecutaremos con las mismas variables que hemos definido.

![01.png](assets/05-seccion/13.png)

Luego, nos vamos a la opción de la ejecución de nuestro nuevo job y observamos la salida en consola. Observemos que las
valores se está imprimiendo correctamente.

![01.png](assets/05-seccion/14.png)
